
@{
    Layout = null;
}

<!DOCTYPE html>
<style>
    .letraGrande {
        font-size: 20px;
    }

    #borderResumen {
        border: 5px ridge #1C6EA4;
        border-radius: 5px;
    }

    .centrado {
        text-align: center;
        align-content: center;
    }

    .step_descr {
        font-size: 26px;
    }

    .form-group {
        margin-bottom: 26px;
    }

    .form-control:disabled,
    .form-control[readonly] {
        background-color: #ffffff;
        opacity: 1;
    }

    .has-success .form-control,
    .has-success .select2-container--default .select2-selection--single .select2-selection__rendered,
    .select2-container--default .select2-selection--single .has-success .select2-selection__rendered,
    .has-success .select2-container--default .select2-selection--single,
    .select2-container--default .has-success .select2-selection--single,
    .has-success .select2-selection.select2-selection--multiple,
    .has-success .wizard .content > .body input,
    .wizard .content > .body .has-success input,
    .has-success .mce-floatpanel .mce-textbox,
    .mce-floatpanel .has-success .mce-textbox,
    .has-success .mce-floatpanel .mce-btn,
    .mce-floatpanel .has-success .mce-btn,
    .has-success .dataTables_wrapper .dataTables_filter input,
    .dataTables_wrapper .dataTables_filter .has-success input,
    .has-success .dataTables_wrapper .dataTables_length select,
    .dataTables_wrapper .dataTables_length .has-success select,
    .has-success .jsgrid-cell input,
    .jsgrid-cell .has-success input,
    .has-success .jsgrid-cell select,
    .jsgrid-cell .has-success select,
    .has-success .tablesaw-bar .btn-select select,
    .tablesaw-bar .btn-select .has-success select,
    .has-success .dd-handle,
    .has-success .dd3-content,
    .has-success .app-search .form-control:focus,
    .app-search .has-success .form-control:focus,
    .has-success .app-search .jsgrid-cell input:focus,
    .app-search .jsgrid-cell .has-success input:focus,
    .has-success .jsgrid-cell .app-search input:focus,
    .jsgrid-cell .app-search .has-success input:focus,
    .has-success .app-search .jsgrid-cell select:focus,
    .app-search .jsgrid-cell .has-success select:focus,
    .has-success .jsgrid-cell .app-search select:focus,
    .jsgrid-cell .app-search .has-success select:focus,
    .has-success .app-search .dd-handle:focus,
    .app-search .has-success .dd-handle:focus,
    .has-success .app-search .dd3-content:focus,
    .app-search .has-success .dd3-content:focus {
        border-color: rgba(113, 170, 104, 0.5);
    }

        .has-success .form-control:focus,
        .has-success .select2-container--default .select2-selection--single .select2-selection__rendered:focus,
        .select2-container--default .select2-selection--single .has-success .select2-selection__rendered:focus,
        .has-success .select2-container--default .select2-selection--single:focus,
        .select2-container--default .has-success .select2-selection--single:focus,
        .has-success .select2-selection.select2-selection--multiple:focus,
        .has-success .wizard .content > .body input:focus,
        .wizard .content > .body .has-success input:focus,
        .has-success .mce-floatpanel .mce-textbox:focus,
        .mce-floatpanel .has-success .mce-textbox:focus,
        .has-success .mce-floatpanel .mce-btn:focus,
        .mce-floatpanel .has-success .mce-btn:focus,
        .has-success .dataTables_wrapper .dataTables_filter input:focus,
        .dataTables_wrapper .dataTables_filter .has-success input:focus,
        .has-success .dataTables_wrapper .dataTables_length select:focus,
        .dataTables_wrapper .dataTables_length .has-success select:focus,
        .has-success .jsgrid-cell input:focus,
        .jsgrid-cell .has-success input:focus,
        .has-success .jsgrid-cell select:focus,
        .jsgrid-cell .has-success select:focus,
        .has-success .tablesaw-bar .btn-select select:focus,
        .tablesaw-bar .btn-select .has-success select:focus,
        .has-success .dd-handle:focus,
        .has-success .dd3-content:focus {
            border-color: #71aa68;
        }

    .has-warning .form-control,
    .has-warning .select2-container--default .select2-selection--single .select2-selection__rendered,
    .select2-container--default .select2-selection--single .has-warning .select2-selection__rendered,
    .has-warning .select2-container--default .select2-selection--single,
    .select2-container--default .has-warning .select2-selection--single,
    .has-warning .select2-selection.select2-selection--multiple,
    .has-warning .wizard .content > .body input,
    .wizard .content > .body .has-warning input,
    .has-warning .mce-floatpanel .mce-textbox,
    .mce-floatpanel .has-warning .mce-textbox,
    .has-warning .mce-floatpanel .mce-btn,
    .mce-floatpanel .has-warning .mce-btn,
    .has-warning .dataTables_wrapper .dataTables_filter input,
    .dataTables_wrapper .dataTables_filter .has-warning input,
    .has-warning .dataTables_wrapper .dataTables_length select,
    .dataTables_wrapper .dataTables_length .has-warning select,
    .has-warning .jsgrid-cell input,
    .jsgrid-cell .has-warning input,
    .has-warning .jsgrid-cell select,
    .jsgrid-cell .has-warning select,
    .has-warning .tablesaw-bar .btn-select select,
    .tablesaw-bar .btn-select .has-warning select,
    .has-warning .dd-handle,
    .has-warning .dd3-content,
    .has-warning .app-search .form-control:focus,
    .app-search .has-warning .form-control:focus,
    .has-warning .app-search .jsgrid-cell input:focus,
    .app-search .jsgrid-cell .has-warning input:focus,
    .has-warning .jsgrid-cell .app-search input:focus,
    .jsgrid-cell .app-search .has-warning input:focus,
    .has-warning .app-search .jsgrid-cell select:focus,
    .app-search .jsgrid-cell .has-warning select:focus,
    .has-warning .jsgrid-cell .app-search select:focus,
    .jsgrid-cell .app-search .has-warning select:focus,
    .has-warning .app-search .dd-handle:focus,
    .app-search .has-warning .dd-handle:focus,
    .has-warning .app-search .dd3-content:focus,
    .app-search .has-warning .dd3-content:focus {
        border-color: rgba(230, 176, 52, 0.5);
    }

        .has-warning .form-control:focus,
        .has-warning .select2-container--default .select2-selection--single .select2-selection__rendered:focus,
        .select2-container--default .select2-selection--single .has-warning .select2-selection__rendered:focus,
        .has-warning .select2-container--default .select2-selection--single:focus,
        .select2-container--default .has-warning .select2-selection--single:focus,
        .has-warning .select2-selection.select2-selection--multiple:focus,
        .has-warning .wizard .content > .body input:focus,
        .wizard .content > .body .has-warning input:focus,
        .has-warning .mce-floatpanel .mce-textbox:focus,
        .mce-floatpanel .has-warning .mce-textbox:focus,
        .has-warning .mce-floatpanel .mce-btn:focus,
        .mce-floatpanel .has-warning .mce-btn:focus,
        .has-warning .dataTables_wrapper .dataTables_filter input:focus,
        .dataTables_wrapper .dataTables_filter .has-warning input:focus,
        .has-warning .dataTables_wrapper .dataTables_length select:focus,
        .dataTables_wrapper .dataTables_length .has-warning select:focus,
        .has-warning .jsgrid-cell input:focus,
        .jsgrid-cell .has-warning input:focus,
        .has-warning .jsgrid-cell select:focus,
        .jsgrid-cell .has-warning select:focus,
        .has-warning .tablesaw-bar .btn-select select:focus,
        .tablesaw-bar .btn-select .has-warning select:focus,
        .has-warning .dd-handle:focus,
        .has-warning .dd3-content:focus {
            border-color: #e6b034;
        }

    .has-error .form-control,
    .has-error .select2-container--default .select2-selection--single .select2-selection__rendered,
    .select2-container--default .select2-selection--single .has-error .select2-selection__rendered,
    .has-error .select2-container--default .select2-selection--single,
    .select2-container--default .has-error .select2-selection--single,
    .has-error .select2-selection.select2-selection--multiple,
    .has-error .wizard .content > .body input,
    .wizard .content > .body .has-error input,
    .has-error .mce-floatpanel .mce-textbox,
    .mce-floatpanel .has-error .mce-textbox,
    .has-error .mce-floatpanel .mce-btn,
    .mce-floatpanel .has-error .mce-btn,
    .has-error .dataTables_wrapper .dataTables_filter input,
    .dataTables_wrapper .dataTables_filter .has-error input,
    .has-error .dataTables_wrapper .dataTables_length select,
    .dataTables_wrapper .dataTables_length .has-error select,
    .has-error .jsgrid-cell input,
    .jsgrid-cell .has-error input,
    .has-error .jsgrid-cell select,
    .jsgrid-cell .has-error select,
    .has-error .tablesaw-bar .btn-select select,
    .tablesaw-bar .btn-select .has-error select,
    .has-error .dd-handle,
    .has-error .dd3-content,
    .has-error .app-search .form-control:focus,
    .app-search .has-error .form-control:focus,
    .has-error .app-search .jsgrid-cell input:focus,
    .app-search .jsgrid-cell .has-error input:focus,
    .has-error .jsgrid-cell .app-search input:focus,
    .jsgrid-cell .app-search .has-error input:focus,
    .has-error .app-search .jsgrid-cell select:focus,
    .app-search .jsgrid-cell .has-error select:focus,
    .has-error .jsgrid-cell .app-search select:focus,
    .jsgrid-cell .app-search .has-error select:focus,
    .has-error .app-search .dd-handle:focus,
    .app-search .has-error .dd-handle:focus,
    .has-error .app-search .dd3-content:focus,
    .app-search .has-error .dd3-content:focus {
        border-color: rgba(218, 71, 58, 0.5);
    }

        .has-error .form-control:focus,
        .has-error .select2-container--default .select2-selection--single .select2-selection__rendered:focus,
        .select2-container--default .select2-selection--single .has-error .select2-selection__rendered:focus,
        .has-error .select2-container--default .select2-selection--single:focus,
        .select2-container--default .has-error .select2-selection--single:focus,
        .has-error .select2-selection.select2-selection--multiple:focus,
        .has-error .wizard .content > .body input:focus,
        .wizard .content > .body .has-error input:focus,
        .has-error .mce-floatpanel .mce-textbox:focus,
        .mce-floatpanel .has-error .mce-textbox:focus,
        .has-error .mce-floatpanel .mce-btn:focus,
        .mce-floatpanel .has-error .mce-btn:focus,
        .has-error .dataTables_wrapper .dataTables_filter input:focus,
        .dataTables_wrapper .dataTables_filter .has-error input:focus,
        .has-error .dataTables_wrapper .dataTables_length select:focus,
        .dataTables_wrapper .dataTables_length .has-error select:focus,
        .has-error .jsgrid-cell input:focus,
        .jsgrid-cell .has-error input:focus,
        .has-error .jsgrid-cell select:focus,
        .jsgrid-cell .has-error select:focus,
        .has-error .tablesaw-bar .btn-select select:focus,
        .tablesaw-bar .btn-select .has-error select:focus,
        .has-error .dd-handle:focus,
        .has-error .dd3-content:focus {
            border-color: #da473a;
        }

    .has-success .checkbox,
    .has-success .checkbox-inline,
    .has-success .control-label,
    .has-success .help-block,
    .has-success .radio,
    .has-success .radio-inline,
    .has-success.checkbox label,
    .has-success.checkbox-inline label,
    .has-success.radio label,
    .has-success.radio-inline label {
        color: #71aa68;
    }

    .has-warning .checkbox,
    .has-warning .checkbox-inline,
    .has-warning .control-label,
    .has-warning .help-block,
    .has-warning .radio,
    .has-warning .radio-inline,
    .has-warning.checkbox label,
    .has-warning.checkbox-inline label,
    .has-warning.radio label,
    .has-warning.radio-inline label {
        color: #e6b034;
    }

    .has-error .checkbox,
    .has-error .checkbox-inline,
    .has-error .control-label,
    .has-error .help-block,
    .has-error .radio,
    .has-error .radio-inline,
    .has-error.checkbox label,
    .has-error.checkbox-inline label,
    .has-error.radio label,
    .has-error.radio-inline label {
        color: #da473a;
    }

    .has-error .input-group-addon {
        background-color: transparent;
        color: #da473a;
        border-color: rgba(218, 71, 58, 0.5);
    }

    .has-success .input-group-addon {
        background-color: transparent;
        color: #71aa68;
        border-color: rgba(113, 170, 104, 0.5);
    }

    .has-success .form-control-feedback {
        color: #71aa68;
    }

    .has-warning .form-control-feedback {
        color: #e6b034;
    }

    .has-error .form-control-feedback {
        color: #da473a;
    }


    .x_content input {
        display: block;
    }

    [type=button]:not(:disabled),
    [type=reset]:not(:disabled),
    [type=submit]:not(:disabled),
    button:not(:disabled) {
        cursor: pointer;
    }

    .btn-primary {
        color: #fff !important;
        background-color: #92A2BD !important;
        border-color: #92A2BD !important;
    }

    .btn {
        border-radius: 1 !important;
    }

    .btn-group-lg > .btn,
    .btn-lg {
        padding: .5rem 1rem;
        font-size: 1.25rem;
        line-height: 1.5;
        border-radius: .3rem;
    }

    .asterisco {
        color: red;
    }

    #newrol {
        border-radius: 0px 25px 25px 0px;
        border: 1px solid rgba(221, 226, 232, 0.49);
        border-left: 0;
        -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
        margin-bottom: 0 !important;
    }

    .autocomplete {
        /*the container must be positioned relative:*/
        position: relative;
    }

    .autocomplete-items {
        position: absolute;
        border: 1px solid #d4d4d4;
        border-bottom: none;
        border-top: none;
        z-index: 99;
        /*position the autocomplete items to be the same width as the container:*/
        top: 100%;
        left: 2%;
        right: 2%;
    }

        .autocomplete-items div {
            padding: 10px;
            cursor: pointer;
            background-color: #fff;
            border-bottom: 1px solid #d4d4d4;
        }

            .autocomplete-items div:hover {
                /*when hovering an item:*/
                background-color: #e9e9e9;
            }

    .autocomplete-active {
        /*when navigating through the items using the arrow keys:*/
        background-color: DodgerBlue !important;
        color: #ffffff;
    }
</style>
<html>

<head>
    <meta name="viewport" content="width=device-width" />
    <title>Add Company</title>
</head>
<body>

    <br />
    <br />

    <br />  <br />

    <div class="x_content" id="DivCompany">
        <br />
        <form id="demo-form2" data-parsley-validate class="form-horizontal form-label-left">



            <h2>New Company</h2>






            <div id="divModule1" class="item form-group">
                <label class="col-form-label col-md-3 col-sm-3 label-align" for="Company">
                    Company <span class="required">*</span>
                </label>
                <div id="divModule" class="col-md-6 col-sm-6 ">
                    <input type="text" id="Company" class="form-control validar" autocomplete="off" placeholder="Name Company">
                </div>
            </div>


            <div class="ln_solid"></div>
            <div class="item form-group">
                <div class="col-md-6 col-sm-6 offset-md-3">
                    <button class="btn btn-primary" type="button" onclick="HomeCompany();">Cancel</button>
                    <button class="btn btn-primary" type="reset">Reset</button>
                    <button type="button" class="btn btn-success" onclick="ValidateSaveCompany();">Save</button>
                </div>
            </div>


            <div class="col-md-12" id="divMensajeError" style="display:none">
                <div class="alert alert-danger alert-dismissable">
                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                    <h6 class="pull-left" id="mensajeError">Error:.</h6>
                    <div class="clearfix"></div>
                </div>
            </div>


        </form>
    </div>


</body>


</html>
<script>



    $(document).ready(function () {




    });

    function HomeCompany() {
        UpdateContenedor('Catalogos/AllCompanias');;
    }





    function saveCompany() {

        var CompaniaName = $('#Company').val();
        var para = {
            "CompaniaName": CompaniaName,
            "Status": "true",
        };



        Swal.fire({
            title: "ARE YOU SURE",
            text: "YOU WANT TO SAVE THIS COMPANY?",
            icon: "warning",
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'YES, SAVE IT!'
        }).then((result) => {
            if (result.isConfirmed) {
                var sURL = IPWS + "/Usuarios/AddCompanias";
                $.ajax({
                    url: sURL,
                    dataType: "json",
                    type: "GET",
                    async: false,
                    data: para,
                    success: function (data) {

                        if (data.Status == "OK") {
                            Swal.fire(
                                'OK!',
                                'THE COMPANY SAVED SUCCESSFULLY!.',
                                'success'
                            )
                            HomeCompany();
                        } else {
                            if (data.Status == "DUPLICATE") {
                                Swal.fire("Error", "THIS RECORD ALREADY EXISTS", "error");

                            } else {
                                Swal.fire("Error", "ERROR SAVED DATA", "error");
                            }
                           
                        }

                    },
                    error: function (XMLHttpRequest, textStatus, errorThrown) {

                    }
                });



            } else {
                Swal.fire("WITHOUT CHANGES!");
            }
        });


        
    }


    function ValidateSaveCompany() {

        var band = [];
        var Idioma = "English";
        $('#divMensajeError').hide();

        if (Idioma == "Espanol") {
            textIdioma1 = "Error: favor de llenar correctamente todos los campos";
        }
        if (Idioma == "English") {
            textIdioma1 = '<i class="fa fa-warning  pr-15 pull-left"></i> Error: please fill in all fields correctly.';
        }


        var inputs = $(".validar");
        for (let i = 0; i < inputs.length; i++) {
            if (inputs[i].value == "") {
                $("#" + inputs[i].parentNode.id).removeClass("has-ok has-success");
                $("#" + inputs[i].parentNode.id).addClass("has-error has-danger");
                band.push(1);
            } else {

                $("#" + inputs[i].parentNode.id).addClass("has-ok has-success");
                $("#" + inputs[i].parentNode.id).removeClass("has-error has-danger");


            }

        }


        var Combos = $(".validarCombo");
        console.log("combo");
        for (let i = 0; i < Combos.length; i++) {
            if (Combos[i].value == "Select Option") {
                $("#" + Combos[i].parentNode.id).removeClass("has-ok has-success");
                $("#" + Combos[i].parentNode.id).addClass("has-error has-danger");
                band.push(1);
            } else {

                $("#" + Combos[i].parentNode.id).addClass("has-ok has-success");
                $("#" + Combos[i].parentNode.id).removeClass("has-error has-danger");
                band.push(0);
            }

        }


        var band2 = 0;

        var result = $.inArray(1, band);
        var result2 = $.inArray(2, band);
        var result3 = $.inArray(3, band);
        if (result != -1) {
            band2 = 1;

        } else if (result2 != -1) {

            band2 = 2;
        } else if (result3 != -1) {

            band2 = 3;
        }


        if (band2 == 0) {
            //ok


            saveCompany();


        } else if (band2 == 1) {

            $('#divMensajeError').show();
            $('#mensajeError').html(textIdioma1);
            return false;
        } else if (band2 == 2) {

            return false;
        } else if (band2 == 3) {

            return false;
        }

    }





</script>
